<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Management System</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  
    <link rel="stylesheet" href="/index.css">
      
</head>

<body>
  <header class="header-section">
    <div class="container">
      <div class="header-content">
        <h1 class="header-title">
          <i class="fas fa-book-open me-3"></i>Book Management System
        </h1>
        <p class="header-subtitle">Organize and manage your book collection with ease</p>
      </div>
     <form action="/search" method="get" class="d-flex mt-3">
  <input type="text" name="q" class="form-control me-2" placeholder="Search books..." />
  <button type="submit" class="btn btn-primary">Search</button>
</form>

    </div>
  </header>

  <main class="main-container">
    <div class="container-fluid">
      <div class="add-button-section">
        <a href="/add" class="btn-add">
          <i class="fas fa-plus"></i>
          Add New Book
        </a>
      </div>

      <div class="books-grid">
        <% if (books && books.length > 0) { %>
          <% books.forEach(book => { %>
            <article class="book-card">
              <div class="card-body-custom">
                <h2 class="book-title"><%= book.title %></h2>
                
                <div class="book-details">
                  <div class="book-detail">
                    <div class="detail-icon"><i class="fas fa-user"></i></div>
                    <div class="detail-content">
                      <div class="detail-label">Author</div>
                      <div class="detail-value"><%= book.author %></div>
                    </div>
                  </div>

                  <div class="book-detail">
                    <div class="detail-icon"><i class="fas fa-barcode"></i></div>
                    <div class="detail-content">
                      <div class="detail-label">ISBN</div>
                      <div class="detail-value"><%= book.isbn %></div>
                    </div>
                  </div>

                  <div class="book-detail">
                    <div class="detail-icon"><i class="fas fa-tags"></i></div>
                    <div class="detail-content">
                      <div class="detail-label">Genre</div>
                      <div class="detail-value"><%= book.genre %></div>
                    </div>
                  </div>

                  <div class="book-detail">
                    <div class="detail-icon">
                      <i class="fas fa-<%= book.available ? 'check-circle' : 'times-circle' %>"></i>
                    </div>
                    <div class="detail-content">
                      <div class="detail-label">Availability</div>
                      <div class="availability-badge <%= book.available ? 'available' : 'unavailable' %>">
                        <i class="fas fa-<%= book.available ? 'check' : 'times' %>"></i>
                        <%= book.available ? 'Available' : 'Not Available' %>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              

              <footer class="card-footer-custom d-flex justify-content-between">
                <form action="/edit/<%= book.id %>" method="GET">
                  <button type="submit" class="btn-action btn-edit">
                    <i class="fas fa-edit"></i> Edit
                  </button>
                </form>

                <form action="/delete/<%= book.id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this book?');">
                  <button type="submit" class="btn-action btn-delete">
                    <i class="fas fa-trash-alt"></i> Delete
                  </button>
                </form>
              </footer>
            </article>
          <% }); %>
        <% } else { %>
          <div class="empty-state">
            <i class="fas fa-book-open"></i>
            <h3>No Books Yet</h3>
            <p>Start building your library by adding your first book!</p>
          </div>
        <% } %>
      </div>
    </div>
  </main>

  <footer class="mt-5 py-4 text-center" style="background: linear-gradient(90deg, #1f1f2e, #2c2c3c); color: #e4e4f5;">
    <div class="container">
      <p class="mb-1">ðŸ“š <strong>Book Management System</strong></p>
      <p class="mb-1">Crafted by <strong>Jiya ðŸ’»</strong></p>
      <p>ðŸ“§ Contact: <a href="mailto:jiyagakhar960@gmail.com" style="color: #6c63ff;">jiyagakhar960@gmail.com</a></p>
    </div>
  </footer>
</body>
</html>